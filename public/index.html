<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta
      name="description"
      content="Web site created using create-react-app"
    />

    <title>React App</title>
  </head>

  <body>
    <div style="background: beige; width: 0px; height: 20px"></div>
    <button>按钮</button>
    <div id="root"></div>
    <script type="text/javascript">
      let channel = new MessageChannel();
      let port1 = channel.port1;
      let port2 = channel.port2;

      port1.onmessage = function(event) {
        console.log('port1收到来自port2的数据',event.data);
      }

      port2.onmessage = function() {
        console.log('port2收到来自port1的数据',event.data);
      }

      port1.postMessage('发送给port2');
      port2.postMessage('发送给port1');
    </script>
  </body>
</html>
